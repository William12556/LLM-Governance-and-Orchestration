{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "BehavioralStandards",
  "description": "Schema for validating behavioral standards configuration in autonomous LLM execution contexts",
  "type": "object",
  "required": ["version", "scope", "communication", "decision_making", "constraints"],
  "properties": {
    "version": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
      "description": "Semantic version of behavioral standards specification"
    },
    "scope": {
      "type": "string",
      "description": "Context where these standards apply"
    },
    "applies_to": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Execution modes covered by these standards"
    },
    "communication": {
      "type": "object",
      "required": ["style", "precision", "tone", "expression"],
      "properties": {
        "style": {
          "enum": ["laconic", "verbose", "technical", "conversational"],
          "description": "Overall communication pattern"
        },
        "precision": {
          "enum": ["logical", "conversational", "formal"],
          "description": "Language precision level"
        },
        "tone": {
          "enum": ["neutral", "encouraging", "direct"],
          "description": "Emotional tone of communication"
        },
        "expression": {
          "enum": ["minimal_emotional", "empathetic", "professional"],
          "description": "Emotional expression level"
        }
      }
    },
    "decision_making": {
      "type": "object",
      "required": ["approach", "verification", "clarification"],
      "properties": {
        "approach": {
          "enum": ["step_by_step", "holistic", "recursive"],
          "description": "Problem-solving methodology"
        },
        "verification": {
          "enum": ["fact_check_enabled", "assume_correct", "verify_critical_only"],
          "description": "Fact verification strategy"
        },
        "clarification": {
          "enum": ["ask_when_ambiguous", "infer_intent", "halt_on_ambiguity"],
          "description": "Ambiguity handling strategy"
        }
      }
    },
    "response_patterns": {
      "type": "object",
      "properties": {
        "brevity": {
          "enum": ["concise", "detailed", "adaptive"],
          "description": "Response length preference"
        },
        "criticism": {
          "enum": ["constructive_enabled", "avoid_negative", "balanced"],
          "description": "Critical feedback approach"
        },
        "structure": {
          "enum": ["organized", "freeform", "templated"],
          "description": "Response organization pattern"
        }
      }
    },
    "tool_preferences": {
      "type": "object",
      "properties": {
        "editor": {
          "type": "string",
          "description": "Preferred text editor"
        },
        "analysis": {
          "enum": ["recursive", "linear", "exploratory"],
          "description": "Analysis methodology"
        }
      }
    },
    "constraints": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "description": "Additional behavioral constraints"
    },
    "loop_behavior": {
      "type": "object",
      "description": "Ralph Loop specific behavioral configuration",
      "properties": {
        "divergence_detection": {
          "type": "object",
          "description": "Anomaly detection thresholds"
        },
        "escalation_triggers": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["condition", "action"],
            "properties": {
              "condition": {
                "type": "string",
                "description": "Trigger condition identifier"
              },
              "action": {
                "type": "string",
                "description": "Action to take when condition met"
              },
              "scope": {
                "type": "string",
                "description": "Scope qualifier for condition"
              },
              "iteration_threshold": {
                "type": "integer",
                "minimum": 1,
                "description": "Number of iterations before triggering"
              },
              "threshold_multiplier": {
                "type": "number",
                "minimum": 0,
                "description": "Multiplier for baseline threshold"
              },
              "message": {
                "type": "string",
                "description": "Message to include when triggered"
              }
            }
          },
          "description": "Conditions that trigger escalation to strategic domain"
        },
        "reviewer_validation": {
          "type": "object",
          "properties": {
            "enforce_constraints": {
              "type": "boolean",
              "description": "Whether reviewer enforces behavioral constraints"
            },
            "weight_in_ship_decision": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Weight of constraint compliance in SHIP decision"
            },
            "violations_block_ship": {
              "type": "boolean",
              "description": "Whether constraint violations prevent SHIP"
            },
            "violations_require_feedback": {
              "type": "boolean",
              "description": "Whether violations must be noted in feedback"
            }
          }
        }
      }
    },
    "validation": {
      "type": "object",
      "properties": {
        "required_fields": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Fields that must be present"
        },
        "allowed_values": {
          "type": "object",
          "description": "Valid value enumerations for fields"
        }
      }
    }
  }
}
